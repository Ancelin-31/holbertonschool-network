#!/usr/bin/env bash
# Configures /etc/hosts so localhost resolves to 127.0.0.2 and facebook.com resolves to 8.8.8.8

HOSTS_FILE="/etc/hosts"

# Backup the original hosts file
sudo cp "$HOSTS_FILE" "${HOSTS_FILE}.bak"

# Remove existing entries for localhost and facebook.com
sudo sed -i '/127\.0\.0\.[01]\s\+localhost/d' "$HOSTS_FILE"
sudo sed -i '/facebook\.com/d' "$HOSTS_FILE"

# Add the required mappings
sudo sh -c 'echo "127.0.0.2 localhost" >> /etc/hosts'
sudo sh -c 'echo "8.8.8.8 facebook.com" >> /etc/hosts'
